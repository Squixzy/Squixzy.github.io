<!doctype html>

<html lang="en">
<head>
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <meta chartimer = set="utf-8">

  <title>Bring Sally Up</title>
  <meta name="mobile-web-app-capable" content="yes">
  <style>
  * {
  	margin:0 auto;
  }
  body {
  overflow: hidden;
  margin:0 auto;
  background-color:#efebe3; 
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  }
  #title {
  			font-size: 5em;
  			font-family: 'Roboto';
  			font-weight: 400;
  			margin: 10px;
  }
  #tits {
  			color:white;
  			opacity:0;
  			font-size: 5em;
  			font-family: 'Roboto';
  			font-weight: 400;
  			margin: 10px;
  			background-color: none;
  			z-index: 100;
  			transition-duration: 1;
  			text-align:center;
  }
  .container {
  	 		top: 50%;
		    left: 50%;
		    position: fixed;
		   	transform: translate(-50%, -50%);
		    -webkit-transform: translate(-50%, -50%);
		    background-color: none;
  }
  #button {
  			display: block;
			padding: 15px 25px;
			font-size: 4em;
			  cursor: pointer;
			  text-align: center;
			  outline: none;
			  color:white;
			  color: #fff;
			  background-color: #669ACC;
			  border: none;
			  border-radius: 20px;
			  box-shadow: 0 9px #476A90;
			  font-family: 'Roboto';
			  font-weight: 400;
			  letter-spacing: 3px;
		     	 transition-duration: 0.1s;
  }
  #button:active {
 	 box-shadow: 0 0px;
 	 transform: translateY(9px);
 	 transition-duration: 0.1s;
 	  outline: none;
  }
  #button:focus {
    outline: none;
}
  #up {
  	text-align:center;
  background-color: #7ef2b1;
  position:fixed;
  width:100%;
  height:0%;
  bottom:0px;
  transition-duration:0.5s; 
  transition-timing-function: linear;
  }
#down  {
	text-align:center;
  background-color: #ff8f84;
  position:fixed;
  width:100%;
  height:0%;
  top:0px;
  transition-duration:0.5s; 
  transition-timing-function: linear;
  }
  #back{
  opacity: 0;
  top:0.5em;
  right:0.8em;
  position:fixed;
  font-family: 'Roboto';
  font-size: 3em;
  }
  #progress{
  position:fixed;
  width:1%;
  height:0%;
  background-color: black;
  left:0px;
  transition-duration:202s;
  }
  #endcard{
  position:fixed;
  width:0%;
  height:100%;
  background-color: black;
  left:0px;
  transition-duration:0.5s;
  transition-timing-function: linear;
  }
  #cross {
  color:white;
  position: fixed;
  opacity:0;
  font-size: 6em;
  font-family:'Roboto';
  font-weight: 400;
  margin: 10px;
  right:0.5em;
  transition-duration: 1s;
  }
  #placeender{
  position:fixed;
  width:100%;
  height:0%;
  background-color: #efebe3;
  bottom:0px;
  transition-duration:0.5s;
  }

  </style>
  

</head>


<body>
<div id='starter' class='container'>
<h1 id='title'>Sally Up Timer</h1>
<button id='button' onclick='start();'>Begin</button>
</div>

<div id='up'></div>
<div id='down'></div>
<div id='progress'> </div>
<div id='endcard'> </div>
						<!--<h1 id='back'> up</h1>  -->
<div id='endcard'> </div>
<div id='ender' class='container'>
<h1 id='tits'></h1>
</div>
<h1 id='cross' onclick="close();"></h1>
<div id='placeender'></div>

  <script>

  document.getElementById("cross").onclick = close;
  document.getElementById("up").onclick = done;
  document.getElementById("down").onclick = done;
  var secondsover10;
  var timer;
  var interval;

  function transition(x) {
  	if (x == 1) {
  		document.getElementById('up').style.height = '100%';
  		document.getElementById('down').style.height = '0%';
  	}
  	else if (x == 0) {
  		document.getElementById('up').style.height = '0%';
  		document.getElementById('down').style.height = '100%';
  	}
  }


  function runstart(x) {
  	if (x == 8 ) {
  		breek(0);
  	}
  	else {
   	transition(1); 
	timer = setTimeout(function(){ transition(0); },250 + 120 + 1430);
	timer = setTimeout(function(){ runstart(x + 1) },500 + 120 + 1430 + 3420 + 500);
	}
  }

  function breek(x) {
  	if (x == 0) {
	timer = setTimeout(function(){ runmiddle1(0) },5580);
	}
	else if (x == 1) {
	timer = setTimeout(function(){ runmiddle2(0) },5580);
	}
	else {
	timer = setTimeout(function(){ runend(0) },5580);
	}
  }

    function runmiddle1(x) {
  	if (x == 5) {
  		breek(1);
  	}
  	else {
	transition(1);
	timer = setTimeout(function(){ transition(0); },250 + 120 + 1430);
	timer = setTimeout(function(){ runmiddle1(x + 1) },500 + 120 + 1430 + 3420 + 500);
	}
  }

    function runmiddle2(x) {
  	if (x == 5) {
  		breek(2);
  	}
  	else {
 	transition(1);
	timer = setTimeout(function(){ transition(0); },250 + 120 + 1430);
	timer = setTimeout(function(){ runmiddle2(x + 1) },500 + 120 + 1430 + 3420 + 500);
	}
  }

    function runend(x) {
  	if (x == 12) {
  		done();
  	}
  	else {
  	transition(1);
	timer = setTimeout(function(){ transition(0); },250 + 120 + 1430);
	timer = setTimeout(function(){ runend(x + 1) },500 + 120 + 1430 + 3420 + 500);
	}
  }

  function done() {
  	document.getElementById('tits').innerHTML = 'You lasted: <br>' + String(secondsover10).toHHMMSS();
  	document.getElementById('cross').innerHTML = 'Ã—';
  	document.getElementById('endcard').style.width = '100%';
  	setTimeout(function(){ document.getElementById('tits').style.opacity = '1'
  							document.getElementById('cross').style.opacity = '1';
  							 document.getElementById('down').style.height = '0%';
  								document.getElementById('up').style.height = '0%';
  							document.getElementById('progress').style.transitionDuration = '202s';},600);
   	setTimeout(function(){ document.getElementById('down').style.height = '0%';},1500);
  	 clearTimeout(timer);
		clearInterval(interval);
	 document.getElementById('progress').style.transitionDuration = '0s';
	 document.getElementById('progress').style.height = '0%';
	 
  
  }

  function clock() {
  	secondsover10 = secondsover10 + 1;
  }

  function close() {
  	document.getElementById('endcard').style.height = '0%'; 
  	
  	setTimeout(function(){ document.getElementById('endcard').style.height = '100%';},2000);
  	setTimeout(function(){ document.getElementById('endcard').style.width = '0%';
  							document.getElementById('tits').innerHTML = '';},1000);
  	document.getElementById('tits').style.opacity = '0';

  	document.getElementById('cross').style.opacity = '0';

  	

  	
 
  }
  String.prototype.toHHMMSS = function () {
    var sec_num = parseInt(this, 10); // don't forget the second param
    var hours   = Math.floor(sec_num / 3600);
    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);
    var seconds = sec_num - (hours * 3600) - (minutes * 60);

    if (hours   < 10) {hours   = "0"+hours;}
    if (minutes < 10) {minutes = "0"+minutes;}
    if (seconds < 10) {seconds = "0"+seconds;}
    return minutes+':'+seconds;
}
  	
  function start() {
  runstart(0);	
  secondsover10 = 0;
  document.getElementById('progress').style.height = '100%';
  interval = setInterval(function(){ clock(); }, 1000);
  }
  </script>
</body>
</html>